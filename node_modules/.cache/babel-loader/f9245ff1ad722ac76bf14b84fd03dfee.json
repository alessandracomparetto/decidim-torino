{"ast":null,"code":"$(function () {\n  var $notificationsBellIcon = $(\".title-bar .topbar__notifications\");\n  var $wrapper = $(\".wrapper\");\n  var $section = $wrapper.find(\"#notifications\");\n  var $noNotificationsText = $(\".empty-notifications\");\n  var $pagination = $wrapper.find(\"ul.pagination\");\n  var FADEOUT_TIME = 500;\n\n  var anyNotifications = function anyNotifications() {\n    return $wrapper.find(\".card--widget\").length > 0;\n  };\n\n  var emptyNotifications = function emptyNotifications() {\n    if (!anyNotifications()) {\n      $section.remove();\n      $noNotificationsText.removeClass(\"hide\");\n    }\n  };\n\n  $section.on(\"click\", \".mark-as-read-button\", function (event) {\n    var $item = $(event.target).parents(\".card--widget\");\n    $item.fadeOut(FADEOUT_TIME, function () {\n      $item.remove();\n      emptyNotifications();\n    });\n  });\n  $wrapper.on(\"click\", \".mark-all-as-read-button\", function () {\n    $section.fadeOut(FADEOUT_TIME, function () {\n      $pagination.remove();\n      $notificationsBellIcon.removeClass(\"is-active\");\n      $wrapper.find(\".card--widget\").remove();\n      emptyNotifications();\n    });\n  });\n  emptyNotifications();\n});","map":{"version":3,"mappings":"AAAAA,CAAC,CAAC,YAAM;AACN,MAAMC,sBAAsB,GAAGD,CAAC,CAAC,mCAAD,CAAhC;AACA,MAAME,QAAQ,GAAGF,CAAC,CAAC,UAAD,CAAlB;AACA,MAAMG,QAAQ,GAAGD,QAAQ,CAACE,IAATF,CAAc,gBAAdA,CAAjB;AACA,MAAMG,oBAAoB,GAAGL,CAAC,CAAC,sBAAD,CAA9B;AACA,MAAMM,WAAW,GAAGJ,QAAQ,CAACE,IAATF,CAAc,eAAdA,CAApB;AACA,MAAMK,YAAY,GAAG,GAArB;;AAEA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,WAAMN,QAAQ,CAACE,IAATF,CAAc,eAAdA,EAA+BO,MAA/BP,GAAwC,CAA9C;AAAzB;;AACA,MAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/B,QAAI,CAACF,gBAAgB,EAArB,EAAyB;AACvBL,cAAQ,CAACQ,MAATR;AACAE,0BAAoB,CAACO,WAArBP,CAAiC,MAAjCA;AACD;AAJH;;AAOAF,UAAQ,CAACU,EAATV,CAAY,OAAZA,EAAqB,sBAArBA,EAA6C,UAACW,KAAD,EAAW;AACtD,QAAMC,KAAK,GAAGf,CAAC,CAACc,KAAK,CAACE,MAAP,CAADhB,CAAgBiB,OAAhBjB,CAAwB,eAAxBA,CAAd;AACAe,SAAK,CAACG,OAANH,CAAcR,YAAdQ,EAA4B,YAAM;AAChCA,WAAK,CAACJ,MAANI;AACAL,wBAAkB;AAFpB;AAFF;AAQAR,UAAQ,CAACW,EAATX,CAAY,OAAZA,EAAqB,0BAArBA,EAAiD,YAAM;AACrDC,YAAQ,CAACe,OAATf,CAAiBI,YAAjBJ,EAA+B,YAAM;AACnCG,iBAAW,CAACK,MAAZL;AACAL,4BAAsB,CAACW,WAAvBX,CAAmC,WAAnCA;AACAC,cAAQ,CAACE,IAATF,CAAc,eAAdA,EAA+BS,MAA/BT;AACAQ,wBAAkB;AAJpB;AADF;AASAA,oBAAkB;AAjCnB,EAADV","names":["$","$notificationsBellIcon","$wrapper","$section","find","$noNotificationsText","$pagination","FADEOUT_TIME","anyNotifications","length","emptyNotifications","remove","removeClass","on","event","$item","target","parents","fadeOut"],"sources":["/var/lib/gems/2.7.0/gems/decidim-core-0.26.0/app/packs/src/decidim/notifications.js"],"sourcesContent":["$(() => {\n  const $notificationsBellIcon = $(\".title-bar .topbar__notifications\");\n  const $wrapper = $(\".wrapper\");\n  const $section = $wrapper.find(\"#notifications\");\n  const $noNotificationsText = $(\".empty-notifications\");\n  const $pagination = $wrapper.find(\"ul.pagination\");\n  const FADEOUT_TIME = 500;\n\n  const anyNotifications = () => $wrapper.find(\".card--widget\").length > 0;\n  const emptyNotifications = () => {\n    if (!anyNotifications()) {\n      $section.remove();\n      $noNotificationsText.removeClass(\"hide\");\n    }\n  };\n\n  $section.on(\"click\", \".mark-as-read-button\", (event) => {\n    const $item = $(event.target).parents(\".card--widget\");\n    $item.fadeOut(FADEOUT_TIME, () => {\n      $item.remove();\n      emptyNotifications();\n    });\n  });\n\n  $wrapper.on(\"click\", \".mark-all-as-read-button\", () => {\n    $section.fadeOut(FADEOUT_TIME, () => {\n      $pagination.remove();\n      $notificationsBellIcon.removeClass(\"is-active\");\n      $wrapper.find(\".card--widget\").remove();\n      emptyNotifications();\n    });\n  });\n\n  emptyNotifications();\n});\n"]},"metadata":{},"sourceType":"module"}