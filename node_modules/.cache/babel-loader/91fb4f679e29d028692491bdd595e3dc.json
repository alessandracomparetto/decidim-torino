{"ast":null,"code":"import MeetingsPollComponent from \"src/decidim/meetings/poll.component\";\nvar OPEN_CLASS = \"is-open\";\n$(function () {\n  // Mount polls component for users\n  var $container = $(\"[data-decidim-meetings-poll]\");\n  var $counter = $(\"#visible-questions-count\");\n\n  if ($container.length) {\n    var poll = new MeetingsPollComponent($container, $container.data(\"decidim-meetings-poll\"), $counter);\n    $(\".meeting-polls__action-list\").on(\"click\", function (event) {\n      event.preventDefault();\n\n      if (poll.isMounted()) {\n        $(event.target).removeClass(OPEN_CLASS);\n        $container.removeClass(OPEN_CLASS);\n        poll.unmountComponent();\n      } else {\n        $(event.target).addClass(OPEN_CLASS);\n        $container.addClass(OPEN_CLASS);\n        poll.mountComponent();\n      }\n    });\n  } // Mount polls component for admins\n\n\n  var $adminContainer = $(\"[data-decidim-admin-meetings-poll]\");\n\n  if ($adminContainer.length) {\n    var adminPoll = new MeetingsPollComponent($adminContainer, $adminContainer.data(\"decidim-admin-meetings-poll\"));\n    $(\".meeting-polls__action-administrate\").on(\"click\", function (event) {\n      event.preventDefault();\n\n      if (adminPoll.isMounted()) {\n        $(event.target).removeClass(OPEN_CLASS);\n        $adminContainer.removeClass(OPEN_CLASS);\n        adminPoll.unmountComponent();\n      } else {\n        $(event.target).addClass(OPEN_CLASS);\n        $adminContainer.addClass(OPEN_CLASS);\n        adminPoll.mountComponent();\n      }\n    });\n  }\n});","map":{"version":3,"mappings":"AAAA,OAAOA,qBAAP,MAAkC,qCAAlC;AACA,IAAMC,UAAU,GAAG,SAAnB;AAEAC,CAAC,CAAC,YAAM;AACN;AACA,MAAMC,UAAU,GAAGD,CAAC,CAAC,8BAAD,CAApB;AACA,MAAME,QAAQ,GAAGF,CAAC,CAAC,0BAAD,CAAlB;;AAEA,MAAIC,UAAU,CAACE,MAAf,EAAuB;AACrB,QAAMC,IAAI,GAAG,IAAIN,qBAAJ,CAA0BG,UAA1B,EAAsCA,UAAU,CAACI,IAAXJ,CAAgB,uBAAhBA,CAAtC,EAAgFC,QAAhF,CAAb;AAEAF,KAAC,CAAC,6BAAD,CAADA,CAAiCM,EAAjCN,CAAoC,OAApCA,EAA6C,UAACO,KAAD,EAAW;AACtDA,WAAK,CAACC,cAAND;;AAEA,UAAIH,IAAI,CAACK,SAALL,EAAJ,EAAsB;AACpBJ,SAAC,CAACO,KAAK,CAACG,MAAP,CAADV,CAAgBW,WAAhBX,CAA4BD,UAA5BC;AACAC,kBAAU,CAACU,WAAXV,CAAuBF,UAAvBE;AACAG,YAAI,CAACQ,gBAALR;AAHF,aAIO;AACLJ,SAAC,CAACO,KAAK,CAACG,MAAP,CAADV,CAAgBa,QAAhBb,CAAyBD,UAAzBC;AACAC,kBAAU,CAACY,QAAXZ,CAAoBF,UAApBE;AACAG,YAAI,CAACU,cAALV;AACD;AAXH;AARI,IAuBN;;;AACA,MAAMW,eAAe,GAAGf,CAAC,CAAC,oCAAD,CAAzB;;AAEA,MAAIe,eAAe,CAACZ,MAApB,EAA4B;AAC1B,QAAMa,SAAS,GAAG,IAAIlB,qBAAJ,CAA0BiB,eAA1B,EAA2CA,eAAe,CAACV,IAAhBU,CAAqB,6BAArBA,CAA3C,CAAlB;AACAf,KAAC,CAAC,qCAAD,CAADA,CAAyCM,EAAzCN,CAA4C,OAA5CA,EAAqD,UAACO,KAAD,EAAW;AAC9DA,WAAK,CAACC,cAAND;;AAEA,UAAIS,SAAS,CAACP,SAAVO,EAAJ,EAA2B;AACzBhB,SAAC,CAACO,KAAK,CAACG,MAAP,CAADV,CAAgBW,WAAhBX,CAA4BD,UAA5BC;AACAe,uBAAe,CAACJ,WAAhBI,CAA4BhB,UAA5BgB;AACAC,iBAAS,CAACJ,gBAAVI;AAHF,aAIO;AACLhB,SAAC,CAACO,KAAK,CAACG,MAAP,CAADV,CAAgBa,QAAhBb,CAAyBD,UAAzBC;AACAe,uBAAe,CAACF,QAAhBE,CAAyBhB,UAAzBgB;AACAC,iBAAS,CAACF,cAAVE;AACD;AAXH;AAaD;AAzCF,EAADhB","names":["MeetingsPollComponent","OPEN_CLASS","$","$container","$counter","length","poll","data","on","event","preventDefault","isMounted","target","removeClass","unmountComponent","addClass","mountComponent","$adminContainer","adminPoll"],"sources":["/var/lib/gems/2.7.0/gems/decidim-meetings-0.26.0/app/packs/src/decidim/meetings/meetings_polls.js"],"sourcesContent":["import MeetingsPollComponent from \"src/decidim/meetings/poll.component\"\nconst OPEN_CLASS = \"is-open\";\n\n$(() => {\n  // Mount polls component for users\n  const $container = $(\"[data-decidim-meetings-poll]\");\n  const $counter = $(\"#visible-questions-count\");\n\n  if ($container.length) {\n    const poll = new MeetingsPollComponent($container, $container.data(\"decidim-meetings-poll\"), $counter);\n\n    $(\".meeting-polls__action-list\").on(\"click\", (event) => {\n      event.preventDefault();\n\n      if (poll.isMounted()) {\n        $(event.target).removeClass(OPEN_CLASS);\n        $container.removeClass(OPEN_CLASS);\n        poll.unmountComponent();\n      } else {\n        $(event.target).addClass(OPEN_CLASS);\n        $container.addClass(OPEN_CLASS);\n        poll.mountComponent();\n      }\n    });\n  }\n\n  // Mount polls component for admins\n  const $adminContainer = $(\"[data-decidim-admin-meetings-poll]\");\n\n  if ($adminContainer.length) {\n    const adminPoll = new MeetingsPollComponent($adminContainer, $adminContainer.data(\"decidim-admin-meetings-poll\"));\n    $(\".meeting-polls__action-administrate\").on(\"click\", (event) => {\n      event.preventDefault();\n\n      if (adminPoll.isMounted()) {\n        $(event.target).removeClass(OPEN_CLASS);\n        $adminContainer.removeClass(OPEN_CLASS);\n        adminPoll.unmountComponent();\n      } else {\n        $(event.target).addClass(OPEN_CLASS);\n        $adminContainer.addClass(OPEN_CLASS);\n        adminPoll.mountComponent();\n      }\n    });\n  }\n});\n"]},"metadata":{},"sourceType":"module"}