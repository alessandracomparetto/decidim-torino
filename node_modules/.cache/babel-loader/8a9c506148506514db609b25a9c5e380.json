{"ast":null,"code":"import { EmojiButton } from \"@joeattardi/emoji-button\"; // eslint-disable-next-line require-jsdoc\n\nexport default function addInputEmoji() {\n  var containers = document.querySelectorAll(\"[data-input-emoji]\");\n\n  if (containers.length) {\n    containers.forEach(function (elem) {\n      var _elem$closest;\n\n      var picker = new EmojiButton({\n        position: \"bottom-end\",\n        rootElement: ((_elem$closest = elem.closest(\"form\")) === null || _elem$closest === void 0 ? void 0 : _elem$closest.parentElement) || document.body,\n        zIndex: 2000\n      }); // if the selector is inside a modal window\n      // this allows shows the emoji menu uncut\n\n      var reveal = elem.closest(\"[data-reveal]\");\n\n      if (reveal) {\n        reveal.style.overflowY = \"unset\";\n      }\n\n      var wrapper = document.createElement(\"div\");\n      wrapper.className = \"emoji__container\";\n      var btnContainer = document.createElement(\"div\");\n      btnContainer.className = \"emoji__trigger\";\n      btnContainer.innerHTML = '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"smile\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\"><path fill=\"currentColor\" d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z\"></path></svg>';\n      elem.parentNode.insertBefore(wrapper, elem);\n      wrapper.appendChild(elem);\n      wrapper.appendChild(btnContainer);\n      btnContainer.addEventListener(\"click\", function () {\n        return picker.togglePicker(btnContainer);\n      });\n      picker.on(\"emoji\", function (_ref) {\n        var emoji = _ref.emoji;\n        elem.value += \" \".concat(emoji, \" \");\n        var event = new Event(\"emoji.added\");\n        elem.dispatchEvent(event);\n      });\n    });\n  }\n}\n;","map":{"version":3,"mappings":"AAAA,SAASA,WAAT,QAA4B,0BAA5B,C,CAEA;;AACA,eAAe,SAASC,aAAT,GAAyB;AACtC,MAAMC,UAAU,GAAGC,QAAQ,CAACC,gBAATD,CAA0B,oBAA1BA,CAAnB;;AAEA,MAAID,UAAU,CAACG,MAAf,EAAuB;AACrBH,cAAU,CAACI,OAAXJ,CAAmB,UAACK,IAAD,EAAU;AAAA;;AAC3B,UAAMC,MAAM,GAAG,IAAIR,WAAJ,CAAgB;AAC7BS,gBAAQ,EAAE,YADmB;AAE7BC,mBAAW,EAAE,sBAAI,CAACC,OAALJ,CAAa,MAAbA,iEAAsBK,aAAtB,KAAuCT,QAAQ,CAACU,IAFhC;AAG7BC,cAAM,EAAE;AAHqB,OAAhB,CAAf,CAD2B,CAO3B;AACA;;AACA,UAAMC,MAAM,GAAGR,IAAI,CAACI,OAALJ,CAAa,eAAbA,CAAf;;AACA,UAAIQ,MAAJ,EAAY;AACVA,cAAM,CAACC,KAAPD,CAAaE,SAAbF,GAAyB,OAAzBA;AACD;;AAED,UAAMG,OAAO,GAAGf,QAAQ,CAACgB,aAAThB,CAAuB,KAAvBA,CAAhB;AACAe,aAAO,CAACE,SAARF,GAAoB,kBAApBA;AACA,UAAMG,YAAY,GAAGlB,QAAQ,CAACgB,aAAThB,CAAuB,KAAvBA,CAArB;AACAkB,kBAAY,CAACD,SAAbC,GAAyB,gBAAzBA;AACAA,kBAAY,CAACC,SAAbD,GAAyB,6rBAAzBA;AAEAd,UAAI,CAACgB,UAALhB,CAAgBiB,YAAhBjB,CAA6BW,OAA7BX,EAAsCA,IAAtCA;AACAW,aAAO,CAACO,WAARP,CAAoBX,IAApBW;AACAA,aAAO,CAACO,WAARP,CAAoBG,YAApBH;AAEAG,kBAAY,CAACK,gBAAbL,CAA8B,OAA9BA,EAAuC;AAAA,eAAMb,MAAM,CAACmB,YAAPnB,CAAoBa,YAApBb,CAAN;AAAvC;AAEAA,YAAM,CAACoB,EAAPpB,CAAU,OAAVA,EAAmB,gBAAe;AAAA,YAAZqB,KAAY,QAAZA,KAAY;AAChCtB,YAAI,CAACuB,KAALvB,eAAkBsB,KAAlB;AAEA,YAAME,KAAK,GAAG,IAAIC,KAAJ,CAAU,aAAV,CAAd;AACAzB,YAAI,CAAC0B,aAAL1B,CAAmBwB,KAAnBxB;AAJF;AA1BF;AAiCD;AACF;AAAA","names":["EmojiButton","addInputEmoji","containers","document","querySelectorAll","length","forEach","elem","picker","position","rootElement","closest","parentElement","body","zIndex","reveal","style","overflowY","wrapper","createElement","className","btnContainer","innerHTML","parentNode","insertBefore","appendChild","addEventListener","togglePicker","on","emoji","value","event","Event","dispatchEvent"],"sources":["/var/lib/gems/2.7.0/gems/decidim-core-0.26.0/app/packs/src/decidim/input_emoji.js"],"sourcesContent":["import { EmojiButton } from \"@joeattardi/emoji-button\";\n\n// eslint-disable-next-line require-jsdoc\nexport default function addInputEmoji() {\n  const containers = document.querySelectorAll(\"[data-input-emoji]\");\n\n  if (containers.length) {\n    containers.forEach((elem) => {\n      const picker = new EmojiButton({\n        position: \"bottom-end\",\n        rootElement: elem.closest(\"form\")?.parentElement || document.body,\n        zIndex: 2000\n      });\n\n      // if the selector is inside a modal window\n      // this allows shows the emoji menu uncut\n      const reveal = elem.closest(\"[data-reveal]\")\n      if (reveal) {\n        reveal.style.overflowY = \"unset\"\n      }\n\n      const wrapper = document.createElement(\"div\");\n      wrapper.className = \"emoji__container\"\n      const btnContainer = document.createElement(\"div\");\n      btnContainer.className = \"emoji__trigger\"\n      btnContainer.innerHTML = '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"smile\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\"><path fill=\"currentColor\" d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z\"></path></svg>'\n\n      elem.parentNode.insertBefore(wrapper, elem);\n      wrapper.appendChild(elem);\n      wrapper.appendChild(btnContainer);\n\n      btnContainer.addEventListener(\"click\", () => picker.togglePicker(btnContainer))\n\n      picker.on(\"emoji\", ({ emoji }) => {\n        elem.value += ` ${emoji} `\n\n        const event = new Event(\"emoji.added\");\n        elem.dispatchEvent(event);\n      });\n    })\n  }\n};\n"]},"metadata":{},"sourceType":"module"}