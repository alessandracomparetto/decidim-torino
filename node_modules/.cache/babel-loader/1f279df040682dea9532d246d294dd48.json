{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n/**\n * CheckBoxesTree component.\n */\n\n\nvar CheckBoxesTree = /*#__PURE__*/function () {\n  function CheckBoxesTree() {\n    var _this = this;\n\n    _classCallCheck(this, CheckBoxesTree);\n\n    this.checkboxesTree = document.querySelectorAll(\"[data-checkboxes-tree]\");\n\n    if (!this.checkboxesTree) {\n      return;\n    }\n\n    this.globalChecks = document.querySelectorAll(\"[data-global-checkbox] input\");\n    this.globalChecks.forEach(function (global) {\n      if (global.value === \"\") {\n        global.classList.add(\"ignore-filter\");\n      }\n    });\n    this.checkGlobalCheck(); // Event listeners\n\n    this.checkboxesTree.forEach(function (input) {\n      return input.addEventListener(\"click\", function (event) {\n        return _this.checkTheCheckBoxes(event.target);\n      });\n    });\n    document.querySelectorAll(\"[data-children-checkbox] input\").forEach(function (input) {\n      input.addEventListener(\"change\", function (event) {\n        return _this.checkTheCheckParent(event.target);\n      });\n    }); // Review parent checkboxes on initial load\n\n    document.querySelectorAll(\"[data-children-checkbox] input\").forEach(function (input) {\n      _this.checkTheCheckParent(input);\n    });\n  }\n  /**\n   * Set checkboxes as checked if included in given values\n   * @public\n   * @param {Array} checkboxes - array of checkboxs to check\n   * @param {Array} values - values of checkboxes that should be checked\n   * @returns {Void} - Returns nothing.\n   */\n\n\n  _createClass(CheckBoxesTree, [{\n    key: \"updateChecked\",\n    value: function updateChecked(checkboxes, values) {\n      var _this2 = this;\n\n      checkboxes.each(function (index, checkbox) {\n        if (checkbox.value === \"\" && values.length === 1 || checkbox.value !== \"\" && values.includes(checkbox.value)) {\n          checkbox.checked = true;\n\n          _this2.checkTheCheckBoxes(checkbox);\n\n          _this2.checkTheCheckParent(checkbox);\n        }\n      });\n    }\n    /**\n     * Set the container form(s) for the component, to disable ignored filters before submitting them\n     * @public\n     * @param {query} theForm - form or forms where the component will be used\n     * @returns {Void} - Returns nothing.\n     */\n\n  }, {\n    key: \"setContainerForm\",\n    value: function setContainerForm(theForm) {\n      theForm.on(\"submit ajax:before\", function () {\n        theForm.find(\".ignore-filters input, input.ignore-filter\").each(function (idx, elem) {\n          elem.disabled = true;\n        });\n      });\n      theForm.on(\"ajax:send\", function () {\n        theForm.find(\".ignore-filters input, input.ignore-filter\").each(function (idx, elem) {\n          elem.disabled = false;\n        });\n      });\n    }\n    /**\n     * Handles the click action on any checkbox.\n     * @private\n     * @param {Input} target - the input that has been checked\n     * @returns {Void} - Returns nothing.\n     */\n\n  }, {\n    key: \"checkTheCheckBoxes\",\n    value: function checkTheCheckBoxes(target) {\n      // Quis custodiet ipsos custodes?\n      var targetChecks = target.dataset.checkboxesTree;\n      var checkStatus = target.checked;\n      var allChecks = document.querySelectorAll(\"#\".concat(targetChecks, \" input[type='checkbox']\"));\n      allChecks.forEach(function (input) {\n        input.checked = checkStatus;\n        input.indeterminate = false;\n        input.classList.add(\"ignore-filter\");\n      });\n    }\n    /**\n     * Update global checkboxes state when the current selection changes\n     * @private\n     * @returns {Void} - Returns nothing.\n     */\n\n  }, {\n    key: \"checkGlobalCheck\",\n    value: function checkGlobalCheck() {\n      this.globalChecks.forEach(function (global) {\n        var checksContext = global.dataset.checkboxesTree;\n        var totalInputs = document.querySelectorAll(\"#\".concat(checksContext, \" input[type='checkbox']\"));\n        var checkedInputs = document.querySelectorAll(\"#\".concat(checksContext, \" input[type='checkbox']:checked\"));\n        var indeterminateInputs = Array.from(totalInputs).filter(function (checkbox) {\n          return checkbox.indeterminate;\n        });\n\n        if (checkedInputs.length === 0 && indeterminateInputs.length === 0) {\n          global.checked = false;\n          global.indeterminate = false;\n        } else if (checkedInputs.length === totalInputs.length && indeterminateInputs.length === 0) {\n          global.checked = true;\n          global.indeterminate = false;\n        } else {\n          global.checked = true;\n          global.indeterminate = true;\n        }\n\n        totalInputs.forEach(function (input) {\n          if (global.indeterminate && !input.indeterminate) {\n            input.classList.remove(\"ignore-filter\");\n          } else {\n            input.classList.add(\"ignore-filter\");\n          }\n\n          var subfilters = input.parentNode.parentNode.nextElementSibling;\n\n          if (subfilters && subfilters.classList.contains(\"filters__subfilters\")) {\n            if (input.indeterminate) {\n              subfilters.classList.remove(\"ignore-filters\");\n            } else {\n              subfilters.classList.add(\"ignore-filters\");\n            }\n          }\n        });\n      });\n    }\n    /**\n     * Update children checkboxes state when the current selection changes\n     * @private\n     * @param {Input} input - the checkbox to check its parent\n     * @returns {Void} - Returns nothing.\n     */\n\n  }, {\n    key: \"checkTheCheckParent\",\n    value: function checkTheCheckParent(input) {\n      var checkBoxContext = $(input).parents(\".filters__subfilters\").attr(\"id\");\n\n      if (!checkBoxContext) {\n        this.checkGlobalCheck();\n        return;\n      }\n\n      var parentCheck = document.querySelector(\"[data-checkboxes-tree=\".concat(checkBoxContext, \"]\"));\n      var totalCheckSiblings = document.querySelectorAll(\"#\".concat(checkBoxContext, \" > div > [data-children-checkbox] > input, #\").concat(checkBoxContext, \" > [data-children-checkbox] > input\"));\n      var checkedSiblings = document.querySelectorAll(\"#\".concat(checkBoxContext, \" > div > [data-children-checkbox] > input:checked, #\").concat(checkBoxContext, \" > [data-children-checkbox] > input:checked\"));\n      var indeterminateSiblings = Array.from(totalCheckSiblings).filter(function (checkbox) {\n        return checkbox.indeterminate;\n      });\n\n      if (checkedSiblings.length === 0 && indeterminateSiblings.length === 0) {\n        parentCheck.checked = false;\n        parentCheck.indeterminate = false;\n      } else if (checkedSiblings.length === totalCheckSiblings.length && indeterminateSiblings.length === 0) {\n        parentCheck.checked = true;\n        parentCheck.indeterminate = false;\n      } else {\n        parentCheck.checked = true;\n        parentCheck.indeterminate = true;\n      }\n\n      totalCheckSiblings.forEach(function (sibling) {\n        if (parent.indeterminate && !sibling.indeterminate) {\n          sibling.classList.remove(\"ignore-filter\");\n        } else {\n          sibling.classList.add(\"ignore-filter\");\n        }\n\n        var subfilters = sibling.parentNode.parentNode.nextElementSibling;\n\n        if (subfilters && subfilters.classList.contains(\"filters__subfilters\")) {\n          if (sibling.indeterminate) {\n            subfilters.classList.remove(\"ignore-filters\");\n          } else {\n            subfilters.classList.add(\"ignore-filters\");\n          }\n        }\n      });\n      this.checkTheCheckParent(parentCheck);\n    }\n  }]);\n\n  return CheckBoxesTree;\n}();\n\nexport { CheckBoxesTree as default };","map":{"version":3,"mappings":"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","names":["CheckBoxesTree","_classCallCheck","checkboxesTree","document","querySelectorAll","globalChecks","forEach","global","value","classList","add","checkGlobalCheck","input","addEventListener","event","_this","checkTheCheckBoxes","target","checkTheCheckParent","checkboxes","values","each","index","checkbox","length","includes","checked","_this2","theForm","on","find","idx","elem","disabled","targetChecks","dataset","checkStatus","allChecks","indeterminate","checksContext","totalInputs","checkedInputs","indeterminateInputs","Array","from","filter","remove","subfilters","parentNode","nextElementSibling","contains","checkBoxContext","$","parents","attr","parentCheck","querySelector","totalCheckSiblings","checkedSiblings","indeterminateSiblings","sibling","parent"],"sources":["/var/lib/gems/2.7.0/gems/decidim-core-0.26.0/app/packs/src/decidim/check_boxes_tree.js"],"sourcesContent":["/**\n * CheckBoxesTree component.\n */\nexport default class CheckBoxesTree {\n  constructor() {\n    this.checkboxesTree = document.querySelectorAll(\"[data-checkboxes-tree]\");\n    if (!this.checkboxesTree) {\n      return;\n    }\n\n    this.globalChecks = document.querySelectorAll(\"[data-global-checkbox] input\");\n    this.globalChecks.forEach((global) => {\n      if (global.value === \"\") {\n        global.classList.add(\"ignore-filter\")\n      }\n    });\n    this.checkGlobalCheck();\n\n    // Event listeners\n    this.checkboxesTree.forEach((input) => input.addEventListener(\"click\", (event) => this.checkTheCheckBoxes(event.target)));\n    document.querySelectorAll(\"[data-children-checkbox] input\").forEach((input) => {\n      input.addEventListener(\"change\", (event) => this.checkTheCheckParent(event.target));\n    });\n\n    // Review parent checkboxes on initial load\n    document.querySelectorAll(\"[data-children-checkbox] input\").forEach((input) => {\n      this.checkTheCheckParent(input);\n    });\n  }\n\n  /**\n   * Set checkboxes as checked if included in given values\n   * @public\n   * @param {Array} checkboxes - array of checkboxs to check\n   * @param {Array} values - values of checkboxes that should be checked\n   * @returns {Void} - Returns nothing.\n   */\n  updateChecked(checkboxes, values) {\n    checkboxes.each((index, checkbox) => {\n      if ((checkbox.value === \"\" && values.length === 1) || (checkbox.value !== \"\" && values.includes(checkbox.value))) {\n        checkbox.checked = true;\n        this.checkTheCheckBoxes(checkbox);\n        this.checkTheCheckParent(checkbox);\n      }\n    });\n  }\n\n  /**\n   * Set the container form(s) for the component, to disable ignored filters before submitting them\n   * @public\n   * @param {query} theForm - form or forms where the component will be used\n   * @returns {Void} - Returns nothing.\n   */\n  setContainerForm(theForm) {\n    theForm.on(\"submit ajax:before\", () => {\n      theForm.find(\".ignore-filters input, input.ignore-filter\").each((idx, elem) => {\n        elem.disabled = true;\n      });\n    });\n\n    theForm.on(\"ajax:send\", () => {\n      theForm.find(\".ignore-filters input, input.ignore-filter\").each((idx, elem) => {\n        elem.disabled = false;\n      });\n    });\n  }\n\n  /**\n   * Handles the click action on any checkbox.\n   * @private\n   * @param {Input} target - the input that has been checked\n   * @returns {Void} - Returns nothing.\n   */\n  checkTheCheckBoxes(target) {\n    // Quis custodiet ipsos custodes?\n    const targetChecks = target.dataset.checkboxesTree;\n    const checkStatus = target.checked;\n    const allChecks = document.querySelectorAll(`#${targetChecks} input[type='checkbox']`);\n\n    allChecks.forEach((input) => {\n      input.checked = checkStatus;\n      input.indeterminate = false;\n      input.classList.add(\"ignore-filter\");\n    });\n  }\n\n  /**\n   * Update global checkboxes state when the current selection changes\n   * @private\n   * @returns {Void} - Returns nothing.\n   */\n  checkGlobalCheck() {\n    this.globalChecks.forEach((global) => {\n      const checksContext = global.dataset.checkboxesTree;\n      const totalInputs = document.querySelectorAll(\n        `#${checksContext} input[type='checkbox']`\n      );\n      const checkedInputs = document.querySelectorAll(\n        `#${checksContext} input[type='checkbox']:checked`\n      );\n      const indeterminateInputs = Array.from(totalInputs).filter((checkbox) => checkbox.indeterminate)\n\n      if (checkedInputs.length === 0 && indeterminateInputs.length === 0) {\n        global.checked = false;\n        global.indeterminate = false;\n      } else if (checkedInputs.length === totalInputs.length && indeterminateInputs.length === 0) {\n        global.checked = true;\n        global.indeterminate = false;\n      } else {\n        global.checked = true;\n        global.indeterminate = true;\n      }\n\n      totalInputs.forEach((input) => {\n        if (global.indeterminate && !input.indeterminate) {\n          input.classList.remove(\"ignore-filter\");\n        } else {\n          input.classList.add(\"ignore-filter\");\n        }\n        const subfilters = input.parentNode.parentNode.nextElementSibling;\n        if (subfilters && subfilters.classList.contains(\"filters__subfilters\")) {\n          if (input.indeterminate) {\n            subfilters.classList.remove(\"ignore-filters\");\n          } else {\n            subfilters.classList.add(\"ignore-filters\");\n          }\n        }\n      });\n    });\n  }\n\n  /**\n   * Update children checkboxes state when the current selection changes\n   * @private\n   * @param {Input} input - the checkbox to check its parent\n   * @returns {Void} - Returns nothing.\n   */\n  checkTheCheckParent(input) {\n    const checkBoxContext = $(input).parents(\".filters__subfilters\").attr(\"id\");\n    if (!checkBoxContext) {\n      this.checkGlobalCheck();\n      return;\n    }\n\n    const parentCheck = document.querySelector(\n      `[data-checkboxes-tree=${checkBoxContext}]`\n    );\n    const totalCheckSiblings = document.querySelectorAll(\n      `#${checkBoxContext} > div > [data-children-checkbox] > input, #${checkBoxContext} > [data-children-checkbox] > input`\n    );\n    const checkedSiblings = document.querySelectorAll(\n      `#${checkBoxContext} > div > [data-children-checkbox] > input:checked, #${checkBoxContext} > [data-children-checkbox] > input:checked`\n    );\n    const indeterminateSiblings = Array.from(totalCheckSiblings).filter((checkbox) => checkbox.indeterminate)\n\n    if (checkedSiblings.length === 0 && indeterminateSiblings.length === 0) {\n      parentCheck.checked = false;\n      parentCheck.indeterminate = false;\n    } else if (checkedSiblings.length === totalCheckSiblings.length && indeterminateSiblings.length === 0) {\n      parentCheck.checked = true;\n      parentCheck.indeterminate = false;\n    } else {\n      parentCheck.checked = true;\n      parentCheck.indeterminate = true;\n    }\n\n    totalCheckSiblings.forEach((sibling) => {\n      if (parent.indeterminate && !sibling.indeterminate) {\n        sibling.classList.remove(\"ignore-filter\");\n      } else {\n        sibling.classList.add(\"ignore-filter\");\n      }\n      const subfilters = sibling.parentNode.parentNode.nextElementSibling;\n      if (subfilters && subfilters.classList.contains(\"filters__subfilters\")) {\n        if (sibling.indeterminate) {\n          subfilters.classList.remove(\"ignore-filters\");\n        } else {\n          subfilters.classList.add(\"ignore-filters\");\n        }\n      }\n    });\n\n    this.checkTheCheckParent(parentCheck);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}