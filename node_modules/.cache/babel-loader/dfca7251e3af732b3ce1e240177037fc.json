{"ast":null,"code":"import attachGeocoding from \"src/decidim/geocoding/attach_input\";\nimport createFieldDependentInputs from \"src/decidim/admin/field_dependent_inputs.component\";\n$(function () {\n  // Adds the latitude/longitude inputs after the geocoding is done\n  var $meetingAddress = $(\"#meeting_address\");\n\n  if ($meetingAddress.length > 0) {\n    attachGeocoding($meetingAddress);\n  }\n\n  var $form = $(\".meetings_form\");\n\n  if ($form.length > 0) {\n    var $meetingTypeOfMeeting = $form.find(\"#meeting_type_of_meeting\");\n    var $meetingOnlineFields = $form.find(\".field[data-meeting-type='online']\");\n    var $meetingInPersonFields = $form.find(\".field[data-meeting-type='in_person']\");\n    var $meetingOnlineAccessLevelFields = $form.find(\".field[data-meeting-type='online-access-level']\");\n\n    var toggleDependsOnSelect = function toggleDependsOnSelect($target, $showDiv, type) {\n      var value = $target.val();\n\n      if (value === \"hybrid\") {\n        $showDiv.show();\n      } else {\n        $showDiv.hide();\n\n        if (value === type) {\n          $showDiv.show();\n        }\n      }\n    };\n\n    $meetingTypeOfMeeting.on(\"change\", function (ev) {\n      var $target = $(ev.target);\n      var embedTypeValue = $(\"#meeting_iframe_embed_type\").val();\n      toggleDependsOnSelect($target, $meetingOnlineFields, \"online\");\n      toggleDependsOnSelect($target, $meetingInPersonFields, \"in_person\");\n\n      if (embedTypeValue === \"none\") {\n        $meetingOnlineAccessLevelFields.hide();\n      } else {\n        toggleDependsOnSelect($target, $meetingOnlineAccessLevelFields, \"online\");\n      }\n    });\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingOnlineFields, \"online\");\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingInPersonFields, \"in_person\");\n    var $meetingRegistrationType = $form.find(\"#meeting_registration_type\");\n    var $meetingRegistrationTerms = $form.find(\"#meeting_registration_terms\");\n    var $meetingRegistrationUrl = $form.find(\"#meeting_registration_url\");\n    var $meetingAvailableSlots = $form.find(\"#meeting_available_slots\");\n    $meetingRegistrationType.on(\"change\", function (ev) {\n      var $target = $(ev.target);\n      toggleDependsOnSelect($target, $meetingAvailableSlots, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationTerms, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationUrl, \"on_different_platform\");\n    });\n    toggleDependsOnSelect($meetingRegistrationType, $meetingAvailableSlots, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationTerms, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationUrl, \"on_different_platform\");\n    createFieldDependentInputs({\n      controllerField: $(\"#meeting_iframe_embed_type\"),\n      wrapperSelector: \".iframe-fields\",\n      dependentFieldsSelector: \".iframe-fields--access-level\",\n      dependentInputSelector: \"input\",\n      enablingCondition: function enablingCondition($field) {\n        return $field.val() !== \"none\";\n      }\n    });\n  }\n});","map":{"version":3,"mappings":"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","names":["attachGeocoding","createFieldDependentInputs","$","$meetingAddress","length","$form","$meetingTypeOfMeeting","find","$meetingOnlineFields","$meetingInPersonFields","$meetingOnlineAccessLevelFields","toggleDependsOnSelect","$target","$showDiv","type","value","val","show","hide","on","ev","target","embedTypeValue","$meetingRegistrationType","$meetingRegistrationTerms","$meetingRegistrationUrl","$meetingAvailableSlots","controllerField","wrapperSelector","dependentFieldsSelector","dependentInputSelector","enablingCondition","$field"],"sources":["/var/lib/gems/2.7.0/gems/decidim-meetings-0.26.0/app/packs/src/decidim/meetings/meetings_form.js"],"sourcesContent":["import attachGeocoding from \"src/decidim/geocoding/attach_input\"\nimport createFieldDependentInputs from \"src/decidim/admin/field_dependent_inputs.component\"\n\n$(() => {\n  // Adds the latitude/longitude inputs after the geocoding is done\n  const $meetingAddress = $(\"#meeting_address\");\n  if ($meetingAddress.length > 0) {\n    attachGeocoding($meetingAddress);\n  }\n\n  const $form = $(\".meetings_form\");\n  if ($form.length > 0) {\n    const $meetingTypeOfMeeting = $form.find(\"#meeting_type_of_meeting\");\n    const $meetingOnlineFields = $form.find(\".field[data-meeting-type='online']\");\n    const $meetingInPersonFields = $form.find(\".field[data-meeting-type='in_person']\");\n    const $meetingOnlineAccessLevelFields = $form.find(\".field[data-meeting-type='online-access-level']\");\n\n    const toggleDependsOnSelect = ($target, $showDiv, type) => {\n      const value = $target.val();\n      if (value === \"hybrid\") {\n        $showDiv.show();\n      } else {\n        $showDiv.hide();\n        if (value === type) {\n          $showDiv.show();\n        }\n      }\n    };\n\n    $meetingTypeOfMeeting.on(\"change\", (ev) => {\n      const $target = $(ev.target);\n      const embedTypeValue = $(\"#meeting_iframe_embed_type\").val();\n\n      toggleDependsOnSelect($target, $meetingOnlineFields, \"online\");\n      toggleDependsOnSelect($target, $meetingInPersonFields, \"in_person\");\n      if (embedTypeValue === \"none\") {\n        $meetingOnlineAccessLevelFields.hide();\n      } else {\n        toggleDependsOnSelect($target, $meetingOnlineAccessLevelFields, \"online\");\n      }\n    });\n\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingOnlineFields, \"online\");\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingInPersonFields, \"in_person\");\n\n\n    const $meetingRegistrationType = $form.find(\"#meeting_registration_type\");\n    const $meetingRegistrationTerms = $form.find(\"#meeting_registration_terms\");\n    const $meetingRegistrationUrl = $form.find(\"#meeting_registration_url\");\n    const $meetingAvailableSlots = $form.find(\"#meeting_available_slots\");\n\n    $meetingRegistrationType.on(\"change\", (ev) => {\n      const $target = $(ev.target);\n      toggleDependsOnSelect($target, $meetingAvailableSlots, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationTerms, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationUrl, \"on_different_platform\");\n    });\n\n    toggleDependsOnSelect($meetingRegistrationType, $meetingAvailableSlots, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationTerms, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationUrl, \"on_different_platform\");\n\n    createFieldDependentInputs({\n      controllerField: $(\"#meeting_iframe_embed_type\"),\n      wrapperSelector: \".iframe-fields\",\n      dependentFieldsSelector: \".iframe-fields--access-level\",\n      dependentInputSelector: \"input\",\n      enablingCondition: ($field) => {\n        return $field.val() !== \"none\"\n      }\n    });\n  }\n});\n"]},"metadata":{},"sourceType":"module"}